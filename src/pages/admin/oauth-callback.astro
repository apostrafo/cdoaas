---
// IÅ¡jungiame Astro JS optimizacijas
---

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Authenticating...</title>
    <script is:inline>
      // Kodas OAuth autentifikacijai su GitHub
      const searchParams = new URLSearchParams(window.location.search);
      const code = searchParams.get('code');
      const provider = searchParams.get('provider') || 'github';
      
      if (window.opener) {
        window.opener.postMessage(
          `authorization:${provider}:success:${JSON.stringify({
            provider,
            code,
          })}`,
          window.location.origin
        );
        window.close();
      } else {
        window.location.replace('/admin/');
      }
    </script>
  </head>
  <body>
    <h1>Authenticating, please wait...</h1>
  </body>
</html> 