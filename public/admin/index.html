<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Content Manager</title>
    <!-- Include the styles for the Netlify CMS UI, after your own styles -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  </head>
  <body>
    <!-- Include the script that builds the page and powers Netlify CMS -->
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>

    <script>
      // Pridėti Lithuanian (lt) kalbos palaikymą
      const lt = {
        app: {
          header: {
            content: 'Turinys',
            workflow: 'Darbo eiga',
            media: 'Medija',
            quickAdd: 'Greitas pridėjimas',
          },
          app: {
            errorHeader: 'Klaida įkeliant CMS konfigūraciją',
            configErrors: 'Konfigūracijos klaidos',
            checkConfigYml: 'Patikrinkite savo config.yml failą.',
            loadingConfig: 'Įkeliama konfigūracija...',
            waitingBackend: 'Laukiama serverio...',
          },
          workflow: {
            workflow: {
              loading: 'Įkeliami redagavimo įrašai',
              workflowHeading: 'Redagavimo darbo eiga',
              newPost: 'Naujas įrašas',
              description: 'Pakeistų įrašų peržiūra prieš publikavimą',
            },
          },
          collection: {
            sidebar: {
              collections: 'Kolekcijos',
              searchAll: 'Ieškoti visur',
            },
            collectionTop: {
              viewAll: 'Peržiūrėti viską',
              newButton: 'Naujas',
            },
            entries: {
              loadingEntries: 'Įkeliami įrašai',
              cachingEntries: 'Įrašų talpinimas tarpinėje atmintyje',
              longerLoading: 'Tai gali užtrukti kelias minutes',
            },
          },
        },
        editor: {
          editorControlPane: {
            widget: {
              required: 'Būtinas %{fieldLabel}',
              regexPattern: '%{fieldLabel} neatitinka šablono: %{pattern}',
              processing: '%{fieldLabel} apdorojamas',
              range: '%{fieldLabel} turi būti tarp %{minValue} ir %{maxValue}',
              min: '%{fieldLabel} turi būti bent %{minValue}',
              max: '%{fieldLabel} turi būti %{maxValue} arba mažiau',
            },
          },
          editor: {
            onLeavePage: 'Ar tikrai norite palikti šį puslapį?',
            onUpdatingWithUnsavedChanges: 'Turite neišsaugotų pakeitimų. Prašome išsaugoti prieš atnaujinant statusą.',
            onPublishingNotReady: 'Prašome pakeisti statusą į "Paruošta" prieš publikuojant.',
            onPublishingWithUnsavedChanges: 'Turite neišsaugotų pakeitimų. Prašome išsaugoti prieš publikuojant.',
            onPublishing: 'Ar tikrai norite publikuoti šį įrašą?',
            onUnpublishing: 'Ar tikrai norite atšaukti šio įrašo publikavimą?',
            onDeleteWithUnsavedChanges: 'Ar tikrai norite ištrinti šį paskelbtą įrašą ir visus neišsaugotus pakeitimus iš dabartinės sesijos?',
            onDeletePublishedEntry: 'Ar tikrai norite ištrinti šį paskelbtą įrašą?',
            onDeleteUnpublishedChangesWithUnsavedChanges: 'Tai ištrins visus neišsaugotus pakeitimus šio įrašo ir iš dabartinės sesijos. Ar tikrai norite ištrinti?',
            onDeleteUnpublishedChanges: 'Visi nepaskelbti šio įrašo pakeitimai bus ištrinti. Ar tikrai norite ištrinti?',
            loadingEntry: 'Įkeliamas įrašas...',
            confirmLoadBackup: 'Buvo atkurta vietinė atsarginė kopija šiam įrašui, ar norėtumėte ją naudoti?',
          },
          editorToolbar: {
            publishing: 'Publikuojama...',
            publish: 'Publikuoti',
            published: 'Paskelbta',
            unpublish: 'Atšaukti publikavimą',
            unpublishing: 'Atšaukiamas publikavimas...',
            scheduledToPublish: 'Suplanuota publikuoti',
            schedulePublish: 'Suplanuoti publikavimą',
            scheduledToUnpublish: 'Suplanuota atšaukti publikavimą',
            scheduleUnpublish: 'Suplanuoti publikavimo atšaukimą',
            updating: 'Atnaujinama...',
            save: 'Išsaugoti',
            deleting: 'Trinama...',
            delete: 'Ištrinti',
            updating: 'Atnaujinama...',
            backCollection: 'Rašyti į %{collectionLabel} kolekciją',
            unsavedChanges: 'Neišsaugoti pakeitimai',
            changesSaved: 'Pakeitimai išsaugoti',
            draft: 'Juodraštis',
            inReview: 'Peržiūrima',
            ready: 'Paruošta',
            publishNow: 'Publikuoti dabar',
            deployed: 'Patalpinta',
            settings: 'Nustatymai',
            language: 'Kalba',
          },
          editorWidgets: {
            image: {
              choose: 'Pasirinkite paveikslėlį',
              chooseDifferent: 'Pasirinkite kitą paveikslėlį',
              remove: 'Pašalinti paveikslėlį',
            },
            file: {
              choose: 'Pasirinkite failą',
              chooseDifferent: 'Pasirinkite kitą failą',
              remove: 'Pašalinti failą',
            },
            unknownControl: {
              noControl: "Nėra valdiklio widget'ui '%{widget}'.",
            },
            markdown: {
              bold: 'Paryškintas',
              italic: 'Kursyvas',
              code: 'Kodas',
              link: 'Nuoroda',
              linkPrompt: 'Įveskite URL',
              headings: 'Antraštės',
              quote: 'Citata',
              bulletedList: 'Sąrašas su taškais',
              numberedList: 'Numeruotas sąrašas',
              addComponent: 'Pridėti komponentą',
              richText: 'Raiškusis tekstas',
              markdown: 'Markdown',
            },
            list: {
              add: 'Pridėti %{item}',
              addType: 'Pridėti %{item}',
            },
          },
        },
        mediaLibrary: {
          mediaLibraryCard: {
            draft: 'Juodraštis',
          },
          mediaLibrary: {
            onDelete: 'Ar tikrai norite ištrinti pasirinktą mediją?',
            fileTooLarge: 'Failas per didelis.\nSukonfigūruota neleisti failų didesnių nei %{size} kB.',
          },
          mediaLibraryModal: {
            loading: 'Įkeliama...',
            noResults: 'Nėra rezultatų.',
            noAssetsFound: 'Nerasta jokių failų.',
            noImagesFound: 'Nerasta jokių paveikslėlių.',
            private: 'Privatus ',
            images: 'Paveikslėliai',
            mediaAssets: 'Medijos failai',
            search: 'Paieška...',
            uploading: 'Įkeliama...',
            upload: 'Įkelti naują',
            delete: 'Ištrinti',
            deleteSelected: 'Ištrinti pasirinktus',
            chooseSelected: 'Pasirinkti pasirinktus',
          },
        },
        ui: {
          errorBoundary: {
            title: 'Klaida',
            details: "Įvyko klaida - prašome ",
            reportIt: "pranešti apie ją GitHub'e.",
            detailsHeading: 'Detalės',
            recoveredEntry: {
              heading: 'Atkurtas dokumentas',
              warning: 'Prašome nukopijuoti/įklijuoti tai kažkur prieš navigaciją!',
              copyButtonLabel: 'Kopijuoti į iškarpinę',
            },
          },
          settingsDropdown: {
            logOut: 'Atsijungti',
          },
          toast: {
            onFailToLoadEntries: 'Nepavyko įkelti įrašo: %{details}',
            onFailToLoadDeployPreview: 'Nepavyko įkelti peržiūros: %{details}',
            onFailToPersist: 'Nepavyko išsaugoti įrašo: %{details}',
            onFailToDelete: 'Nepavyko ištrinti įrašo: %{details}',
            onFailToUpdateStatus: 'Nepavyko atnaujinti statuso: %{details}',
            missingRequiredField: "Oops, praleidote privalomą lauką. Užpildykite prieš išsaugant.",
            entrySaved: 'Įrašas išsaugotas',
            entryPublished: 'Įrašas paskelbtas',
            entryUnpublished: 'Įrašo publikavimas atšauktas',
            onFailToPublishEntry: 'Nepavyko paskelbti įrašo: %{details}',
            onFailToUnpublishEntry: 'Nepavyko atšaukti įrašo publikavimo: %{details}',
            entryUpdated: 'Įrašo statusas atnaujintas',
            onDeleteUnpublishedChanges: 'Nepaskelbti pakeitimai ištrinti',
            onFailToAuth: '%{details}',
          },
        },
        workflow: {
          workflow: {
            loading: 'Įkeliami redagavimo įrašai',
            workflowHeading: 'Redagavimo darbo eiga',
            newPost: 'Naujas įrašas',
            description: 'Pakeistų įrašų peržiūra prieš publikavimą',
            dateFormat: 'MMMM D',
          },
        },
      };

      // Pridedam kalbą
      if (window.decapCmsLocaleMap) {
        window.decapCmsLocaleMap.lt = lt;
      } else {
        window.decapCmsLocaleMap = { lt };
      }
    </script>

    <!-- Konfigūruojamas OAuth autentifikavimo procesas -->
    <script>
      // Nustatome, kad Decap CMS naudotų OAuth autentifikavimą per git-gateway
      window.decapCmsConfig = {
        load_config_file: false, // Don't load config from file, use this object instead
        backend: {
          name: 'github',
          repo: 'apostrafo/cdoaas',
          branch: 'main',
          auth_type: 'implicit', // OAuth implicit flow
          app_id: '', // Nenurodyta, nes tai nustatoma Netlify/GitHub konfigūracijoje
          auth_endpoint: 'https://github.com/login/oauth/authorize',
          base_url: 'https://api.github.com',
          auth_scope: 'repo',
        },
        media_folder: "public/uploads",
        public_folder: "/uploads",
        publish_mode: "editorial_workflow",
        i18n: {
          default_locale: 'lt',
          locales: ['lt', 'en'],
          localization: {
            allow_global_fallback: true,
            allow_field_fallback: true
          }
        },
        collections: [
          {
            name: "pages",
            label: "Puslapiai",
            files: [
              {
                name: "home",
                label: "Pagrindinis puslapis",
                file: "content/index.md",
                i18n: true,
                fields: [
                  { label: "Antraštė", name: "title", widget: "string", i18n: true },
                  { label: "Poraštė", name: "subtitle", widget: "string", i18n: true },
                  { label: "Turinys", name: "body", widget: "markdown", i18n: true }
                ]
              },
              {
                name: "about",
                label: "Apie mus",
                file: "src/content/about/about.md",
                i18n: true,
                fields: [
                  { label: "Antraštė", name: "title", widget: "string", i18n: true },
                  { label: "Turinys", name: "body", widget: "markdown", i18n: true }
                ]
              },
              {
                name: "services",
                label: "Paslaugos",
                file: "src/content/services/services.md",
                i18n: true,
                fields: [
                  { label: "Antraštė", name: "title", widget: "string", i18n: true },
                  { label: "Poraštė", name: "subtitle", widget: "string", i18n: true },
                  { label: "Turinys", name: "body", widget: "markdown", i18n: true }
                ]
              },
              {
                name: "approach",
                label: "Mūsų požiūris",
                file: "src/content/approach/approach.md",
                i18n: true,
                fields: [
                  { label: "Antraštė", name: "title", widget: "string", i18n: true },
                  { label: "Poraštė", name: "subtitle", widget: "string", i18n: true },
                  { label: "Turinys", name: "body", widget: "markdown", i18n: true }
                ]
              },
              {
                name: "case-studies",
                label: "Praktiniai pavyzdžiai",
                file: "src/content/case-studies/case-studies.md",
                i18n: true,
                fields: [
                  { label: "Antraštė", name: "title", widget: "string", i18n: true },
                  { label: "Poraštė", name: "subtitle", widget: "string", i18n: true },
                  { label: "Turinys", name: "body", widget: "markdown", i18n: true },
                  {
                    label: "Praktiniai pavyzdžiai",
                    name: "cases",
                    widget: "list",
                    i18n: true,
                    fields: [
                      { label: "Pavadinimas", name: "name", widget: "string", i18n: true },
                      { label: "Logotipas", name: "logo", widget: "image", i18n: true, required: false },
                      { label: "Aprašymas", name: "description", widget: "text", i18n: true },
                      { label: "Iššūkiai", name: "challenges", widget: "text", i18n: true },
                      { label: "Sprendimai", name: "solutions", widget: "text", i18n: true },
                      { label: "Rezultatai", name: "results", widget: "text", i18n: true }
                    ]
                  }
                ]
              },
              {
                name: "tools",
                label: "Įrankiai",
                file: "src/content/tools/tools.md",
                i18n: true,
                fields: [
                  { label: "Antraštė", name: "title", widget: "string", i18n: true },
                  { label: "Poraštė", name: "subtitle", widget: "string", i18n: true },
                  { label: "Turinys", name: "body", widget: "markdown", i18n: true },
                  {
                    label: "Įrankiai",
                    name: "tools",
                    widget: "list",
                    i18n: true,
                    fields: [
                      { label: "Pavadinimas", name: "name", widget: "string", i18n: true },
                      { label: "Kategorija", name: "category", widget: "string", i18n: true },
                      { label: "Aprašymas", name: "description", widget: "text", i18n: true },
                      { label: "Ikonos pavadinimas", name: "icon", widget: "string", i18n: false, required: false },
                      { label: "URL", name: "url", widget: "string", i18n: false, required: false }
                    ]
                  }
                ]
              },
              {
                name: "contact",
                label: "Kontaktai",
                file: "src/content/contact/contact.md",
                i18n: true,
                fields: [
                  { label: "Antraštė", name: "title", widget: "string", i18n: true },
                  { label: "Poraštė", name: "subtitle", widget: "string", i18n: true, required: false },
                  { label: "Adresas", name: "address", widget: "text", i18n: true, required: false },
                  { label: "El. paštas", name: "email", widget: "string", i18n: false, required: false },
                  { label: "Telefonas", name: "phone", widget: "string", i18n: false, required: false },
                  { label: "Formos antraštė", name: "form_title", widget: "string", i18n: true, required: false },
                  { label: "Formos poraštė", name: "form_subtitle", widget: "text", i18n: true, required: false },
                  { label: "Turinys", name: "body", widget: "markdown", i18n: true }
                ]
              }
            ]
          },
          {
            name: "blog",
            label: "Blog įrašai",
            folder: "src/content/blog",
            create: true,
            slug: "{{slug}}{{language_suffix}}",
            i18n: true,
            fields: [
              { label: "Antraštė", name: "title", widget: "string", i18n: true },
              { label: "Data", name: "date", widget: "datetime", i18n: false },
              { label: "Autorius", name: "author", widget: "string", i18n: false },
              { label: "Paveikslėlis", name: "image", widget: "image", i18n: true, required: false },
              { label: "Santrauka", name: "excerpt", widget: "text", i18n: true },
              { label: "Turinys", name: "body", widget: "markdown", i18n: true }
            ]
          },
          {
            name: "team",
            label: "Komandos nariai",
            folder: "src/content/team",
            create: true,
            i18n: true,
            fields: [
              { label: "Vardas", name: "name", widget: "string", i18n: false },
              { label: "Pareigos", name: "position", widget: "string", i18n: true },
              { label: "Nuotrauka", name: "photo", widget: "image", i18n: false },
              { label: "LinkedIn", name: "linkedin", widget: "string", i18n: false, required: false },
              { label: "Aprašymas", name: "bio", widget: "text", i18n: true },
              { label: "Rodymo eilė", name: "order", widget: "number", i18n: false }
            ]
          },
          {
            name: "settings",
            label: "Nustatymai",
            files: [
              {
                name: "navigation",
                label: "Navigacija",
                file: "content/settings/navigation.yml",
                i18n: true,
                fields: [
                  {
                    label: "Pagrindinė navigacija",
                    name: "main",
                    widget: "list",
                    i18n: true,
                    fields: [
                      { label: "Etiketė", name: "label", widget: "string", i18n: true },
                      { label: "URL", name: "url", widget: "string", i18n: false }
                    ]
                  }
                ]
              },
              {
                name: "site",
                label: "Svetainės informacija",
                file: "content/settings/site.yml",
                i18n: true,
                fields: [
                  { label: "Svetainės pavadinimas", name: "title", widget: "string", i18n: true },
                  { label: "Aprašymas", name: "description", widget: "text", i18n: true },
                  { label: "Pagrindinis el. paštas", name: "email", widget: "string", i18n: false },
                  { label: "Telefonas", name: "phone", widget: "string", i18n: false }
                ]
              }
            ]
          }
        ]
      };
    </script>
  </body>
</html> 