document.addEventListener("DOMContentLoaded",function(){function c(n){console.log("Applying translations for language:",n),fetch(`/translations/${n}.json`).then(t=>t.json()).then(t=>{document.querySelectorAll("[data-i18n]").forEach(e=>{const a=e.getAttribute("data-i18n");t[a]?e.tagName==="INPUT"||e.tagName==="TEXTAREA"?(e.placeholder=t[a],e.previousElementSibling&&e.previousElementSibling.hasAttribute("for")&&(e.previousElementSibling.textContent=t[a])):(e.tagName,e.textContent=t[a]):console.warn(`Translation key not found: ${a}`)})}).catch(t=>{console.error("Error loading translations:",t)})}const o=new URLSearchParams(window.location.search).get("lang"),r=localStorage.getItem("preferred_language"),s=o||r||"lt";console.log("Selected language:",s),c(s),o&&localStorage.setItem("preferred_language",o);const l=o||r||"lt";document.querySelectorAll("a[href]").forEach(n=>{const t=n.getAttribute("href");if(t&&t.startsWith("/")&&!t.startsWith("//")&&!t.includes("?lang=")&&!t.includes("&lang=")){const a=t.includes("?")?`${t}&lang=${l}`:`${t}?lang=${l}`;n.setAttribute("href",a)}})});
