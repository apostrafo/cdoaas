document.addEventListener("DOMContentLoaded",function(){const t=new URLSearchParams(window.location.search).get("lang")||localStorage.getItem("preferred_language")||"en";console.log("Page loaded with language:",t),document.querySelectorAll('a[href]:not([href^="#"]):not([href^="http"]):not([href^="mailto"])').forEach(a=>{const e=a.getAttribute("href");if(e&&!e.includes("lang=")){const n=e.includes("?")?"&":"?";a.setAttribute("href",`${e}${n}lang=${t}`)}})});
